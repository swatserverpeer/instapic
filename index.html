<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="description" content="Instagram Profile Picture Viewer">
	<title>Instagram Profile Picture Viewer</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		.propic {
		    border: 1px solid #ddd;
		    border-radius: 3px;
		    padding: 3px;
		    max-width: 100%;
		    height: auto;
		    width: auto;
		}
		.footer {
		    position: absolute;
		    bottom: 0;
		    width: 100%;
		    height: 60px;
		    line-height: 60px;
		    background-color: #f5f5f5;
		}
	</style>
</head>
<body>
<div class="container">
    <!-- code for user input -->
<h1>Instagram Profile Picture Viewer</h1>
			<div class="input-group mb-3">
				<input type="text" id="usernameInput" name="username" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
			</div>
			<input type="submit" value="FETCH" class="btn btn-primary" onclick="getPhoto($('#usernameInput').val().trim())">
	<div><small class="text-muted">Shower some Support ðŸ’™</small></div>
<div></div>
	<br><br>
<img src="" id="photoReturn"></div>
			<div></div>

<footer class="footer">
	<div class="container">
		<span class="text-muted">
			<a href="https://github.com/swatserverpeer/instapic"><img src="https://image.flaticon.com/icons/svg/25/25231.svg" width="30px"/> Source Code</a>
			<span style="float: right">By sWaT <img src="https://image.flaticon.com/icons/svg/148/148836.svg" width="25px"/></span>
			</span>
	</div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
function getPhoto(a) {

  // validation for instagram usernames
  var regex = new RegExp(/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/);
  var validation = regex.test(a);

  if(validation) {

    $.get("https://www.instagram.com/"+a+"/?__a=1")
    .done(function(data) {

      // getting the url
      var photoURL = data["graphql"]["user"]["profile_pic_url_hd"];

      // update img element
      $("#photoReturn").attr("src",photoURL)

     })
    .fail(function() {
      // code for 404 error
      alert('Username was not found!')
    })

  } else {

    alert('The username is invalid!')
  }

}
</script>
</body>
</html>